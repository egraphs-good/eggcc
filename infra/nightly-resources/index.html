<!DOCTYPE html>
<link rel="stylesheet" href="stylesheet.css" type="text/css" charset="utf-8" />
<html>

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>
  <script src="./Plugin.Errorbars.js"></script>
  <script src="chart.js"></script>
  <script src="data.js"></script>
  <script src="handlers.js"></script>
  <script src="index.js"></script>
  <script src="previousRuns.js"></script>
  <script src="table.js"></script>
  <script src="latex.js"></script>
  <script src="utils.js"></script>
</head>

<title>Nightlies</title>

<body onload="load_index()">
  <h2>Nightlies</h2>

  <div>
    <button type="button" class="collapsible" onclick="toggle(this, '\u25B6 Show Chart', '\u25BC Hide Chart')">&#x25BC; Hide Chart</button>
    <div class="expanded">
      <input onclick="onRadioClick('absolute');" checked type="radio" id="absolute" name="chart-type" value="absolute">
      <label for="absolute">Absolute</label>
      <input onclick="onRadioClick('normalized');" type="radio" id="normalized" name="chart-type" value="normalized">
      <label for="normalized">Normalized</label><br>
      <p id="normalized-formula">Normalized = (RUN MODE MEAN / LLVM-O0-O0 MEAN)</p>
      <p id="error-formula">Error bars show standard deviation</p>
      <canvas class="content" id="chart"></canvas>
    </div>
  </div>

  <div>
    <label for="comparison">Compare To:</label>
    <select id="comparison"></select>    
  </div>

  <button
    type="button"
    class="collapsible"
    id="warnings-toggle"
    onclick="toggle(this, `\u25B6 Show ${GLOBAL_DATA.warnings.size} Warnings`, `\u25BC Hide ${GLOBAL_DATA.warnings.size} Warnings`)">
  </button>
  <div class="content collapsed" id="warnings"></div>

  <div class="filter-container">
    <div class="filters">
      <div>
        <p>Run Modes</p>
        <button onclick="selectAllModes(true)">Select All</button>
        <button onclick="selectAllModes(false)">Select None</button>
      </div>
      <div id="modeCheckboxes"></div>
    </div>
    <div class="filters">
      <div>
        <p>Benchmarks</p>
        <button onclick="selectBenchmarks('all')">Select All</button>
        <button onclick="selectBenchmarks('none')">Deselect All</button>
        <br />
        <button onclick="selectBenchmarks('fast')">5 Fastest</button>
        <button onclick="selectBenchmarks('slow')">5 Slowest</button>
      </div>
      <div id="benchmarkCheckboxes"></div>
    </div>
  </div>
  
  <h2>Jitter Plots</h2>
  <button type="button" class="collapsible" id="jitter-toggle"
    onclick="toggle(this, `\u25B6 Show`, `\u25BC Hide`)">
    &#9654; Show
  </button>
  <div class="content collapsed" id="jitters">
    <image id="jitter-plot" src="jitter_plot_max_4.png"/>
  </div>

  <h2> Bril Normalized Chart</h2>
  <button type="button" class="collapsible" id="bril-toggle"
    onclick="toggle(this, `\u25B6 Show`, `\u25BC Hide`)">
    &#9654; Show
  </button>
  <div class="content collapsed" id="bril-normalized-plot">
    <image id="bril-plot" src="bril_bar_chart.png"/>
  </div>

  <h2> Polybench Normalized Chart</h2>
  <button type="button" class="collapsible" id="polybench-toggle"
    onclick="toggle(this, `\u25B6 Show`, `\u25BC Hide`)">
    &#9654; Show
  </button>
  <div class="content collapsed" id="polybench-normalized-plot">
    <image id="polybench-plot" src="polybench_bar_chart.png"/>
  </div>

  <h2> Raytracer Normalized Chart</h2>
  <button type="button" class="collapsible" id="polybench-toggle"
    onclick="toggle(this, `\u25B6 Show`, `\u25BC Hide`)">
    &#9654; Show
  </button>
  <div class="content collapsed" id="raytrace-normalized-plot">
    <image id="raytrace-plot" src="raytrace_bar_chart.png"/>
  </div>

  <h2> Latex Macros </h2>
  <button type="button" class="collapsible" id="latex-toggle"
    onclick="toggle(this, `\u25B6 Show`, `\u25BC Hide`)">
    &#9654; Show
  </button>
  <!-- show the latex as a copyable text box from the latexmacros.tex file -->
  <div class="content collapsed" id="latex-macros">
    <textarea id="latex-macros-text" rows="10" cols="50" readonly></textarea>
  </div>

  <h2>Code Size vs Compile Time</h2>
  <button type="button" class="collapsible" id="code-size-toggle"
    onclick="toggle(this, `\u25B6 Show`, `\u25BC Hide`)">
    &#9654; Show
  </button>
  <div class="content collapsed" id="code-size">
    <image id="code-size-plot" src="code_size_vs_compile_time.png"/>
  </div>



  <h2>Overall Stats</h2>
  <t>Warning: compile-time statistics are not very trustworthy in parallel mode.</t>
  <div id="overall-stats-table"></div>

  <h2>Detailed Table</h2>
  <div id="profile"></div>
  </div>
  <h2>Raw</h2>
  <p>
    <a href="data/profile.json">Data</a>
  </p>
  <p>
    <a href="table.html?table=linecount">Line Count</a>
  </p>
  <p>
    <a href="table.html?table=detailed-linecount">Egg File Line Count</a>
  </p>
  <p>
    <a href="table.html?table=benchmarks">Nightly Table</a>
  </p>
  <p>
    <a href="log.txt">Log</a>
  </p>
</body>

</html>