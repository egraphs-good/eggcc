(ruleset function-inlining)

(rule
    (
        (= call (Call f arg))
        (Function f out)
        (ExprIsValid call)
    )
    (
        (let new-id (Id (i64-fresh!)))
        (union
            call
            (NewLet new-id arg out)
        )
    )
:ruleset function-inlining)